#N struct g3 float x float y float q;
#N struct g2 float x float y float q;
#N struct g1 float x float y float q;
#N canvas 469 393 911 114 12;
#X floatatom 194 21 5 0 0 2 complete complete -;
#X floatatom 256 21 5 0 0 2 Sensor_Value sensor_value -;
#N canvas 578 277 1641 804 Serial 1;
#X msg 37 77 devices;
#X msg 69 179 zlclear;
#X obj 69 155 sel 255;
#X obj 37 130 t a a;
#X floatatom 63 586 5 0 0 3 state - state;
#X floatatom 122 593 5 0 0 3 complete - complete;
#X floatatom 189 592 5 0 0 1 - - -;
#X floatatom 244 591 5 0 0 1 - - -;
#X floatatom 311 590 5 0 0 1 - - -;
#X obj 246 623 * 255;
#X obj 265 654 +;
#X floatatom 265 713 5 0 0 3 sensor_value - sensor_value;
#X floatatom 355 591 5 0 0 1 - - -;
#X floatatom 418 591 5 0 0 1 - - -;
#X floatatom 480 589 5 0 0 1 - - -;
#X floatatom 537 590 5 0 0 1 - - -;
#X floatatom 600 592 5 0 0 1 - - -;
#X floatatom 663 592 5 0 0 1 - - -;
#X floatatom 715 591 5 0 0 3 LPS1_x - LPS1_x;
#X floatatom 768 591 5 0 0 3 LPS1_y - LPS1_y;
#X floatatom 823 590 5 0 0 3 LPS2_x - LPS2_x;
#X floatatom 876 590 5 0 0 3 LPS2_y - LPS2_y;
#X text 347 612 received_distance_result--------------------------
;
#X floatatom 906 697 5 0 0 3 my_coordinate_x - my_coordinate_x;
#X floatatom 953 745 5 0 0 3 my_coordinate_y - my_coordinate_y;
#X floatatom 1165 685 5 0 0 3 destination_x - destination_x;
#X floatatom 1218 733 5 0 0 3 destination_y - destination_y;
#X floatatom 1053 601 5 0 0 3 a_state - a_state;
#X floatatom 1263 608 5 0 0 3 turn_type - turn_type;
#X floatatom 1332 603 5 0 0 3 movement_type - movement_type;
#X floatatom 293 75 5 0 0 0 - - -;
#X obj 294 102 t b f;
#X msg 104 52 close;
#X text 629 50 0: brakeAll() \; servoStraight() \; stopActuator() \;
1: pullActuator() \; 2: pushActuator() \; 3: brakeAll() \; 4: brakeAllRelease()
\; 5: brake12() \; 6: brake34() \; 7: servoStraight() \; 8: servoLeft()
\; 9: servoRight() \;;
#X text 460 51 0: brake12() \; servoStraight() \; stopActuator() \;
1: pullActuator() \; 2: pushActuator() \; 3: brake34() \; 4: brake12()
\; 5: ReleaseAllBrake() \; 6: brakeAll() \; 7: servoStraight() \; 8:
servoLeft() \; 9: servoRight() \;;
#X text 338 31 MODE_BASIC_TEST;
#X obj 863 186 s message;
#X obj 165 79 r message;
#X text 867 78 Go Straight;
#X obj 1074 230 s message;
#X obj 259 173 s message;
#X text 992 26 MODE_BASIC_MOVEMENT;
#X text 1079 182 Stop;
#X text 634 15 Initial setup;
#X text 478 16 Actual Behabiour;
#X text 995 46 255 \, 2nd_byte(0 \, 1) \, 3rd_byte(destination_x) \,
4th_byte(destination_y) \, 5th_byte(mode) \, 6th_byte(function) \,
7th_byte(sensor_min) \, 8th_byte(sensor_max);
#X text 1077 142 sensor_min defalut 240;
#X text 1079 161 sensor_max defalut 150;
#X msg 1074 204 255 0 1 1 2 0 0 0;
#X obj 259 146 pack 255 0 1 1 1 1 0 0;
#X msg 258 52 255 0 1 1 1 1 0 0;
#X msg 863 160 255 0 1 1 2 1 75 100;
#X msg 862 131 255 0 1 1 2 1 190 230;
#X obj 1111 502 s message;
#X msg 1110 447 255 0 1 1 2 2 190 230;
#X msg 1111 476 255 0 1 1 2 2 75 100;
#X text 1115 394 Go Right;
#X obj 1111 358 s message;
#X text 1115 250 Go Left;
#X msg 1110 303 255 0 1 1 2 3 190 230;
#X msg 1111 332 255 0 1 1 2 3 75 100;
#X msg 1109 419 255 0 1 1 2 2 230 75;
#X msg 861 103 255 0 1 1 2 1 230 75;
#X msg 1109 275 255 0 1 1 2 3 230 75;
#X text 62 519 780 \, 900;
#X obj 865 363 s message;
#X obj 867 502 s message;
#X msg 864 308 255 0 1 1 2 4 190 230;
#X msg 865 337 255 0 1 1 2 4 75 100;
#X msg 867 476 255 0 1 1 2 5 75 100;
#X text 869 255 Turn RIGHT;
#X text 871 394 Turn LEFT;
#X msg 866 447 255 0 1 1 2 5 150 230;
#X obj 393 397 s message;
#X text 321 250 MODE_AUTONOMOUS;
#X text 567 364 go to position 7 \, 7;
#X msg 104 77 open 3;
#X obj 37 104 comport 3 9600;
#X msg 865 419 255 0 1 1 2 5 75 230;
#X msg 863 280 255 0 1 1 2 4 75 230;
#X obj 37 552 unpack f f f f f f f f f f f f f f f f f f f f f f f
f f f f f f, f 215;
#X floatatom 1394 594 5 0 0 0 - - -;
#X floatatom 1443 597 5 0 0 0 - - -;
#X floatatom 1490 595 5 0 0 0 - - -;
#X floatatom 1545 593 5 0 0 0 - - -;
#X obj 1403 642 * 255;
#X obj 1430 675 +;
#X obj 1423 706 / 10000;
#X floatatom 1422 740 5 0 0 3 xrange - -;
#X obj 1509 643 * 255;
#X obj 1536 676 +;
#X obj 1529 707 / 10000;
#X floatatom 1528 741 5 0 0 3 yrange - -;
#X obj 37 208 zl group 29;
#X obj 325 277 bng 15 250 50 0 empty ts3_ch1 ts3_ch1 17 7 0 10 -262144
-1 -1;
#X obj 153 366 bng 15 250 50 0 empty ts4_ch1 ts4_ch1 17 7 0 10 -262144
-1 -1;
#X floatatom 209 287 5 0 0 3 complete complete -;
#X obj 210 324 change;
#X obj 210 349 sel 1;
#X obj 210 381 t b b b b b;
#X obj 388 292 t b b b b b;
#X obj 210 412 counter;
#X floatatom 212 439 5 0 0 0 - - -;
#X msg 391 368 255 0 40 10 0 0 120 230;
#X msg 392 343 255 0 45 50 0 0 75 230;
#X obj 387 268 bang_at 240;
#X connect 0 0 77 0;
#X connect 1 0 93 0;
#X connect 2 0 1 0;
#X connect 3 0 93 0;
#X connect 3 1 2 0;
#X connect 7 0 9 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 30 0 31 0;
#X connect 31 0 49 0;
#X connect 31 1 49 5;
#X connect 32 0 77 0;
#X connect 37 0 77 0;
#X connect 48 0 39 0;
#X connect 49 0 40 0;
#X connect 50 0 40 0;
#X connect 51 0 36 0;
#X connect 52 0 36 0;
#X connect 54 0 53 0;
#X connect 55 0 53 0;
#X connect 59 0 57 0;
#X connect 60 0 57 0;
#X connect 61 0 53 0;
#X connect 62 0 36 0;
#X connect 63 0 57 0;
#X connect 67 0 65 0;
#X connect 68 0 65 0;
#X connect 69 0 66 0;
#X connect 72 0 66 0;
#X connect 76 0 77 0;
#X connect 77 0 3 0;
#X connect 78 0 66 0;
#X connect 79 0 65 0;
#X connect 80 1 4 0;
#X connect 80 2 5 0;
#X connect 80 3 6 0;
#X connect 80 4 7 0;
#X connect 80 5 8 0;
#X connect 80 6 12 0;
#X connect 80 7 13 0;
#X connect 80 8 14 0;
#X connect 80 9 15 0;
#X connect 80 10 16 0;
#X connect 80 11 17 0;
#X connect 80 12 18 0;
#X connect 80 13 19 0;
#X connect 80 14 20 0;
#X connect 80 15 21 0;
#X connect 80 16 23 0;
#X connect 80 17 24 0;
#X connect 80 18 27 0;
#X connect 80 21 25 0;
#X connect 80 22 26 0;
#X connect 80 23 28 0;
#X connect 80 24 29 0;
#X connect 80 25 81 0;
#X connect 80 26 82 0;
#X connect 80 27 83 0;
#X connect 80 28 84 0;
#X connect 81 0 85 0;
#X connect 82 0 86 1;
#X connect 83 0 89 0;
#X connect 84 0 90 1;
#X connect 85 0 86 0;
#X connect 86 0 87 0;
#X connect 87 0 88 0;
#X connect 89 0 90 0;
#X connect 90 0 91 0;
#X connect 91 0 92 0;
#X connect 93 0 80 0;
#X connect 94 0 100 0;
#X connect 95 0 99 0;
#X connect 96 0 97 0;
#X connect 97 0 98 0;
#X connect 98 0 99 0;
#X connect 98 0 101 0;
#X connect 99 0 103 0;
#X connect 99 1 103 0;
#X connect 99 2 103 0;
#X connect 99 3 103 0;
#X connect 99 4 103 0;
#X connect 100 0 104 0;
#X connect 100 1 104 0;
#X connect 100 2 104 0;
#X connect 100 3 104 0;
#X connect 100 4 104 0;
#X connect 101 0 102 0;
#X connect 103 0 73 0;
#X connect 104 0 73 0;
#X connect 105 0 100 0;
#X restore 14 15 pd Serial;
#X floatatom 377 16 5 0 0 3 LPS1_x LPS1_x -;
#X floatatom 440 16 5 0 0 3 LPS1_y LPS1_y -;
#X floatatom 505 17 5 0 0 3 LPS2_x LPS2_x -;
#X floatatom 568 17 5 0 0 3 LPS2_y LPS2_y -;
#X floatatom 656 17 5 0 0 3 my_coordinate_x my_coordinate_x -;
#X floatatom 777 16 5 0 0 3 my_coordinate_y my_coordinate_y -;
#N canvas 105 131 1142 438 messages_graphics 0;
#X floatatom 211 230 5 0 0 2 state state -;
#X obj 210 302 prepend set;
#X msg 210 327 0 STATE_INIT;
#X obj 211 255 text get state_text;
#X obj 210 278 list trim;
#X floatatom 423 228 5 0 0 2 Actuator_state a_state -;
#X obj 422 300 prepend set;
#X msg 422 325 0 STATE_GOING_DOWN;
#X obj 422 276 list trim;
#X obj 423 253 text get a_state_text;
#X obj 582 222 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 648 228 5 0 0 2 Turn_type turn_type -;
#X obj 647 300 prepend set;
#X msg 647 325 0 TURN_RIGHT;
#X obj 647 276 list trim;
#X obj 648 253 text get turn_type_text;
#X obj 651 353 hsl 128 15 1 0 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X floatatom 840 224 5 0 0 2 Movement_type movement_type -;
#X obj 839 296 prepend set;
#X msg 839 321 0 none;
#X obj 839 272 list trim;
#X obj 840 249 text get movement_type_text;
#X obj 1047 226 vsl 15 128 2 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 12700 1;
#N canvas 72 96 620 594 graphic 0;
#X scalar g3 50 50 0 \;;
#X scalar g2 50 50 0 \;;
#X scalar g1 50 50 0 \;;
#X restore 16 70 pd graphic;
#N canvas 72 96 334 170 text 0;
#X obj 34 17 text define -k state_text;
#A set 0 STATE_INIT \; 1 STATE_FORWARD_BACKWARD_DECISION \; 2 STATE_TURN_DECISION
\; 3 STATE_STANDUP_BEFORE_TURN \; 4 STATE_TURN \; 5 STATE_CHECK_ANGLE
\; 6 STATE_MOVE \; 7 STATE_STOP_STANDUP \;;
#X obj 33 43 text define -k a_state_text;
#A set 0 STATE_GOING_DOWN \; 1 STATE_GOING_UP \;;
#X obj 34 68 text define -k turn_type_text;
#A set 0 TURN_RIGHT \; 1 TURN_LEFT \;;
#X obj 34 93 text define -k movement_type_text;
#A set 0 none \; 1 MOVE_FORWARD \; 2 MOVE_BACKWARD \;;
#X restore 16 44 pd text;
#N canvas 669 351 1305 765 p1 0;
#X msg 164 104 traverse pd-graphic;
#X obj 158 167 pointer;
#X msg 179 130 bang;
#X msg 74 153 50 50;
#X obj 84 58 t b b b;
#X obj 79 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 156 33 \; pd-graphic clear;
#X floatatom 172 218 5 0 0 0 - - -;
#X floatatom 290 230 5 0 0 0 - - -;
#X obj 68 197 append g2 x y;
#X obj 74 329 struct g2 float x float y float q;
#X obj 197 250 set g2 y;
#X obj 79 238 set g2 x;
#X obj 76 354 filledpolygon 90 90 3 0 0 10 0 10 10 0 10;
#X obj 18 15 loadbang;
#X obj 25 62 delay 1000;
#X obj 216 179 inlet;
#X obj 292 198 inlet;
#X connect 0 0 1 0;
#X connect 1 0 9 2;
#X connect 2 0 1 0;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 4 2 0 0;
#X connect 5 0 4 0;
#X connect 7 0 12 0;
#X connect 8 0 11 0;
#X connect 9 0 11 1;
#X connect 9 0 12 1;
#X connect 14 0 15 0;
#X connect 15 0 5 0;
#X connect 16 0 7 0;
#X connect 17 0 8 0;
#X restore 15 179 pd p1;
#N canvas 72 183 473 454 p2 0;
#X obj 71 241 append g1 x y;
#X msg 167 148 traverse pd-graphic;
#X obj 161 211 pointer;
#X msg 182 174 bang;
#X msg 77 197 50 50;
#X obj 87 102 t b b b;
#X obj 82 74 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 159 77 \; pd-graphic clear;
#X floatatom 175 262 5 0 0 0 - - -;
#X obj 82 282 set g1 x;
#X floatatom 293 274 5 0 0 0 - - -;
#X obj 200 294 set g1 y;
#X obj 77 373 struct g1 float x float y float q;
#X obj 79 398 filledpolygon 50 12 3 0 0 500 0 500 500 0 500;
#X obj 81 17 loadbang;
#X obj 82 46 t b b;
#X connect 0 0 9 1;
#X connect 0 0 11 1;
#X connect 1 0 2 0;
#X connect 2 0 0 2;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 5 1 3 0;
#X connect 5 2 1 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 6 0;
#X connect 15 1 7 0;
#X restore 15 99 pd p2;
#X floatatom 14 149 5 0 0 0 - - -;
#X floatatom 60 149 5 0 0 0 - - -;
#N canvas 290 208 1305 765 p3 0;
#X msg 164 104 traverse pd-graphic;
#X obj 158 167 pointer;
#X msg 179 130 bang;
#X msg 74 153 50 50;
#X obj 97 48 t b b b;
#X obj 79 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 156 33 \; pd-graphic clear;
#X floatatom 172 218 5 0 0 0 - - -;
#X floatatom 290 230 5 0 0 0 - - -;
#X obj 18 15 loadbang;
#X obj 216 179 inlet;
#X obj 292 198 inlet;
#X obj 68 197 append g3 x y;
#X obj 79 238 set g3 x;
#X obj 197 250 set g3 y;
#X obj 76 354 filledpolygon 1 1 3 0 0 10 0 10 10 0 10;
#X obj 74 329 struct g3 float x float y float q;
#X obj 14 53 delay 2000;
#X connect 0 0 1 0;
#X connect 1 0 12 2;
#X connect 2 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 4 2 0 0;
#X connect 5 0 4 0;
#X connect 7 0 13 0;
#X connect 8 0 14 0;
#X connect 9 0 17 0;
#X connect 10 0 7 0;
#X connect 11 0 8 0;
#X connect 12 0 13 1;
#X connect 12 0 14 1;
#X connect 17 0 5 0;
#X restore 16 249 pd p3;
#X floatatom 13 218 5 0 0 0 - - -;
#X floatatom 59 218 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X connect 11 0 15 0;
#X connect 11 0 16 0;
#X connect 12 0 13 0;
#X connect 14 0 12 0;
#X connect 15 0 14 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X connect 20 0 18 0;
#X connect 21 0 20 0;
#X connect 27 0 25 0;
#X connect 28 0 25 1;
#X connect 30 0 29 0;
#X connect 31 0 29 1;
#X restore 10 50 pd messages_graphics;
#X text 87 16 Open Serial;
